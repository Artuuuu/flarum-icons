module.exports=function(n){var t={};function o(e){if(t[e])return t[e].exports;var i=t[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=t,o.d=function(n,t,e){o.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,t){if(1&t&&(n=o(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)o.d(e,i,function(t){return n[t]}.bind(null,i));return e},o.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(t,"a",t),t},o.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},o.p="",o(o.s=20)}([function(n,t){n.exports=flarum.core.compat.app},function(n,t,o){"use strict";function e(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}o.d(t,"a",(function(){return e}))},function(n,t){n.exports=flarum.core.compat["components/Button"]},function(n,t){n.exports=flarum.core.compat.Model},function(n,t,o){"use strict";function e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var i=o(1);function a(n,t,o){return t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}var r=o(3),c=o.n(r);o.d(t,"a",(function(){return s}));var s=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return a(e(t=n.call.apply(n,[this].concat(i))||this),"elementPath",c.a.attribute("elementPath")),a(e(t),"originalIcon",c.a.attribute("originalIcon")),a(e(t),"modifiedIcon",c.a.attribute("modifiedIcon")),a(e(t),"isActive",c.a.attribute("isActive",Boolean)),t}return Object(i.a)(t,n),t}(c.a)},function(n,t){n.exports=flarum.core.compat["components/Alert"]},function(n,t){},function(n,t){n.exports=flarum.core.compat.extend},function(n,t){n.exports=flarum.core.compat["components/Page"]},function(n,t){n.exports=flarum.core.compat.Component},function(n,t){n.exports=flarum.core.compat["components/Modal"]},,function(n,t,o){"use strict";function e(){return(e=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(n[e]=o[e])}return n}).apply(this,arguments)}var i=o(4),a=o(7),r=o(13),c=o.n(r),s=o(14),l=o.n(s),u=o(1),f=o(8),p=o.n(f),d=o(2),h=o.n(d),I=o(9),v=o.n(I);function g(n,t){var o=t.originalIcon();if("o"==n)var e=o;var i=t.modifiedIcon();if("m"==n)e=i;var a=document.querySelector("icon#"+n+t.id());if(a){var r=a.lastElementChild;if(r)for(;r;)a.removeChild(r),r=a.lastElementChild;var c=document.createElement("i");c.setAttribute("class",e+" Icons-demo"),a.appendChild(c)}var s=document.querySelector("icon#r"+t.id());if(s){var l=s.lastElementChild;if(o&&i){if(!l){var u=document.createElement("i");u.setAttribute("class","fas fa-random Icons-random"),s.appendChild(u)}}else if(s.lastElementChild)for(;l;)s.removeChild(l),l=s.lastElementChild}}var y=function(n){function t(){return n.apply(this,arguments)||this}Object(u.a)(t,n);var o=t.prototype;return o.init=function(){this.newIcon={id:m.prop(0),elementPath:m.prop(null),originalIcon:m.prop("fas fa-baby"),modifiedIcon:m.prop("fas fa-child")}},o.view=function(){return m(".IconCreate",[m("input.FormControl.Icons-elementPath",{type:"text",value:this.newIcon.elementPath(),oninput:m.withAttr("value",this.newIcon.elementPath),placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.elementPath")}),h.a.component({type:"button",className:"Button Button--warning Icons-button",icon:"fa fa-plus",onclick:this.create.bind(this)}),m("input.FormControl.Icons-originalIcon",{type:"text",value:this.newIcon.originalIcon(),oninput:m.withAttr("value",this.newIcon.originalIcon,g("o",this.newIcon)),placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.originalIcon")}),m("input.FormControl.Icons-modifiedIcon",{type:"text",value:this.newIcon.modifiedIcon(),oninput:m.withAttr("value",this.newIcon.modifiedIcon,g("m",this.newIcon)),placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.modifiedIcon")}),m("span",{style:"margin-left: 10px;"}),m("icon#o"+this.newIcon.id(),[m("i.Icons-demo."+this.newIcon.originalIcon())]),m("icon#r"+this.newIcon.id(),[m("i.Icons-random.fas.fa-random")]),m("icon#m"+this.newIcon.id(),[m("i.Icons-demo."+this.newIcon.modifiedIcon())])])},o.create=function(){var n=this;return app.store.createRecord("icons").save({elementPath:this.newIcon.elementPath(),originalIcon:this.newIcon.originalIcon(),modifiedIcon:this.newIcon.modifiedIcon()}).then((function(){n.newIcon.elementPath(null),n.newIcon.originalIcon("fas fa-baby"),n.newIcon.modifiedIcon("fas fa-child"),m.redraw()})).catch((function(){m.redraw()}))},t}(v.a),w=o(15),b=o.n(w),x=function(n){function t(){return n.apply(this,arguments)||this}Object(u.a)(t,n);var o=t.prototype;return o.init=function(){this.icon=this.props.icon,this.id=m.prop(this.icon.id()),this.elementPath=m.prop(this.icon.elementPath()),this.originalIcon=m.prop(this.icon.originalIcon()),this.modifiedIcon=m.prop(this.icon.modifiedIcon()),this.isActive=m.prop(this.icon.isActive())},o.view=function(){return m("form",[b.a.component({className:"Icons-isActive",state:this.isActive()>0,onchange:this.update("isActive")}),m("input.FormControl.Icons-elementPath",{type:"text",value:this.elementPath(),oninput:m.withAttr("value",this.update("elementPath")),placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.elementPath")}),m("input.FormControl.Icons-originalIcon",{type:"text",value:this.originalIcon(),oninput:m.withAttr("value",this.update("originalIcon"),g("o",this)),placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.originalIcon")}),m("input.FormControl.Icons-modifiedIcon",{type:"text",value:this.modifiedIcon(),oninput:m.withAttr("value",this.update("modifiedIcon"),g("m",this)),placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.modifiedIcon")}),h.a.component({type:"button",className:"Button Button--warning Icons-button",icon:"fa fa-times",onclick:this.delete.bind(this)}),m("span",{style:"margin-left: 10px;"}),m("icon#o"+this.id(),[m("i.Icons-demo."+this.originalIcon())]),m("icon#r"+this.id(),[m("i.Icons-random.fas.fa-random")]),m("icon#m"+this.id(),[m("i.Icons-demo."+this.modifiedIcon())])])},o.update=function(n){var t=this;return function(o){var e;return t[n](o),t.icon.save((e={},e[n]=o,e)).then((function(){return m.lazyRedraw()}))}},o.delete=function(){return this.icon.delete().then((function(){return m.lazyRedraw()}))},t}(v.a),_=o(16),j=function(n){function t(){return n.apply(this,arguments)||this}Object(u.a)(t,n);var o=t.prototype;return o.isDismissible=function(){return!1},o.onhide=function(){window.location.reload(!0)},o.className=function(){return"IconSettingsModal Modal--small"},o.title=function(){return app.translator.trans("fajuu-icons.admin.icon_settings.title")},o.form=function(){return m(".Modal-body",[m(".Form-group",[m("label",app.translator.trans("fajuu-icons.admin.icon_settings.key_heading")),m(".helpText",app.translator.trans("fajuu-icons.admin.icon_settings.key_text",{a:m("a",{href:"https://fontawesome.com/start",target:"_blank"})})),m("input.FormControl",{required:!0,type:"text",minlength:"10",maxlength:"10",bidi:this.setting("fajuu-icons.key")})])])},t}(o.n(_).a),P=o(0),A=o.n(P),O=o(10),C=o.n(O),k=o(5),B=o.n(k),S=function(n){function t(){return n.apply(this,arguments)||this}Object(u.a)(t,n);var o=t.prototype;return o.isDismissible=function(){return!1},o.title=function(){return A.a.translator.trans("fajuu-icons.admin.icon_export.title")},o.content=function(){var n=this;return m(".Modal-body",[m(".Form-group",[m("textarea.FormControl#iconExport",{readonly:!0,rows:15,value:JSON.stringify(A.a.store.all("icons").map((function(n){return n.data.attributes})))})]),m(".Form-group",[h.a.component({className:"Button Button--primary",children:A.a.translator.trans("fajuu-icons.admin.icon_export.close_button"),onclick:function(){return n.hide()}}),h.a.component({className:"Button",icon:"fas fa-copy",style:"float: right;",children:A.a.translator.trans("fajuu-icons.admin.icon_export.copy_button"),onclick:function(){var t=document.querySelector("textarea#iconExport");t.focus(),t.select();try{document.execCommand("copy"),n.alert=new B.a({type:"success",children:A.a.translator.trans("fajuu-icons.admin.icon_export.copy_success")})}catch(t){n.alert=new B.a({type:"error",children:A.a.translator.trans("fajuu-icons.admin.icon_export.copy_error")})}}})])])},t}(C.a),N=o(17),F=function(n){Object(u.a)(o,n);var t=o.prototype;function o(){var t;return(t=n.call(this)||this).icons=m.prop(null),t.alert=new B.a({type:"info",children:A.a.translator.trans("fajuu-icons.admin.icon_import.about")}),t}return t.sleep=function(n){for(var t=(new Date).getTime(),o=0;o<1e7&&!((new Date).getTime()-t>n);o++);},t.isJson=function(n){try{return"string"==typeof n&&(JSON.parse(n),!0)}catch(n){return!1}},t.title=function(){return A.a.translator.trans("fajuu-icons.admin.icon_import.title")},t.content=function(){var n=this;return m(".Modal-body",[m(".Form-group",[m("textarea.FormControl",{required:!0,type:"text",rows:15,oninput:m.withAttr("value",this.icons)})]),m(".Form-group",[h.a.component({className:"Button Button--primary",children:A.a.translator.trans("fajuu-icons.admin.icon_import.import_button"),onclick:function(){n.isJson(n.icons())?(A.a.store.all("icons").map((function(n){n.delete()})),n.sleep(2e3),JSON.parse(n.icons()).map((function(n){A.a.store.createRecord("icons").save(n)})),n.sleep(2e3),window.location.reload(!0)):n.alert=new B.a({type:"error",children:A.a.translator.trans("fajuu-icons.admin.icon_import.not_json")})}}),h.a.component({className:"Button",icon:"fas fa-trash-restore",style:"float: right;",children:A.a.translator.trans("fajuu-icons.admin.icon_import.restore_button"),onclick:function(){A.a.store.all("icons").map((function(n){n.delete()})),n.sleep(1e3),N.map((function(n){A.a.store.createRecord("icons").save(n)})),n.sleep(1e3),window.location.reload(!0)}})])])},o}(C.a),M=function(n){function t(){return n.apply(this,arguments)||this}Object(u.a)(t,n);var o=t.prototype;return o.config=function(){window.FontAwesomeKitConfig||setTimeout((function(){return app.modal.show(new j)}),500)},o.view=function(){return m(".IconsPage",[m(".IconsPage-header",[m(".container",[m("p",app.translator.trans("fajuu-icons.admin.icons.about_icons_text")),h.a.component({className:"Button Button--primary",icon:"fas fa-list-ul",children:app.translator.trans("fajuu-icons.admin.icons.list_icons_button"),onclick:function(){return window.open("https://fontawesome.com/icons","_blank")}}),h.a.component({className:"Button",icon:"fas fa-upload",children:app.translator.trans("fajuu-icons.admin.icons.import_icons_button"),onclick:function(){return app.modal.show(new F)}}),h.a.component({className:"Button",icon:"fas fa-download",children:app.translator.trans("fajuu-icons.admin.icons.export_icons_button"),onclick:function(){return app.modal.show(new S)}})])]),m(".IconsPage-main",[m(".container",[y.component(),m(".IconList",app.store.all("icons").map((function(n){return m(".IconItem",{key:n.id(),"data-id":n.id()},x.component({icon:n}))})))])])])},t}(p.a),E=function(){app.routes.icons={path:"/icons",component:M.component()},app.extensionSettings["fajuu-icons"]=function(){return m.route(app.route("icons"))},Object(a.extend)(c.a.prototype,"items",(function(n){n.add("icons",l.a.component({href:app.route("icons"),icon:"fas fa-icons",children:app.translator.trans("fajuu-icons.admin.nav.icons_button"),description:app.translator.trans("fajuu-icons.admin.nav.icons_text")}))}))},q=e({"icons/models/Icon":i.a},{"icons/components/IconCreate":y,"icons/components/IconItem":x,"icons/components/IconSettingsModal":j,"icons/components/IconsExportModal":S,"icons/components/IconsImportModal":F,"icons/components/IconsPage":M,"icons/helpers/IconDemo":g,"icons/addIconsPane":E}),D=o(18);app.initializers.add("fajuu-icons",(function(n){n.store.models.icons=i.a,E()})),e(D.compat,q)},function(n,t){n.exports=flarum.core.compat["components/AdminNav"]},function(n,t){n.exports=flarum.core.compat["components/AdminLinkButton"]},function(n,t){n.exports=flarum.core.compat["components/Switch"]},function(n,t){n.exports=flarum.core.compat["components/SettingsModal"]},function(n){n.exports=JSON.parse('[{"elementPath":"li.item-tags>a>i","originalIcon":"fas fa-th-large","modifiedIcon":"fas fa-hashtag","isActive":1},{"elementPath":"li.item-following>a>i","originalIcon":"fas fa-star","modifiedIcon":"far fa-star","isActive":1},{"elementPath":"li.item-allDiscussions>a>i","originalIcon":"far fa-comments","modifiedIcon":"far fa-comments","isActive":1},{"elementPath":"li.item-flags>div>button>i","originalIcon":"fas fa-flag","modifiedIcon":"far fa-flag","isActive":1},{"elementPath":"li.item-notifications>div>button>i","originalIcon":"fas fa-bell","modifiedIcon":"far fa-bell","isActive":1},{"elementPath":"li.item-profile>a>i","originalIcon":"fas fa-user","modifiedIcon":"far fa-id-card","isActive":1},{"elementPath":"li.item-settings>a>i","originalIcon":"fas fa-cog","modifiedIcon":"fas fa-user-cog","isActive":1},{"elementPath":"li.item-administration>a>i","originalIcon":"fas fa-wrench","modifiedIcon":"fas fa-lock","isActive":1},{"elementPath":"li.item-logOut>a>i","originalIcon":"fas fa-sign-out-alt","modifiedIcon":"fas fa-sign-out-alt","isActive":1},{"elementPath":"li.item-posts>a>i","originalIcon":"far fa-comment","modifiedIcon":"far fa-comment","isActive":1},{"elementPath":"li.item-discussions>a>i","originalIcon":"fas fa-bars","modifiedIcon":"far fa-comment-alt","isActive":1},{"elementPath":"li.item-mentions>a>i","originalIcon":"fas fa-at","modifiedIcon":"fas fa-quote-right","isActive":1}]')},function(n,t){n.exports=flarum.core},,function(n,t,o){"use strict";o.r(t);var e=o(6);for(var i in e)"default"!==i&&function(n){o.d(t,n,(function(){return e[n]}))}(i);o(12)}]);
//# sourceMappingURL=admin.js.map
module.exports=function(t){var n={};function o(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=t,o.c=n,o.d=function(t,n,i){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)o.d(i,a,function(n){return t[n]}.bind(null,a));return i},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=15)}([function(t,n){t.exports=flarum.core.compat.app},function(t,n,o){"use strict";function i(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}o.d(n,"a",(function(){return i}))},function(t,n){t.exports=flarum.core.compat["components/Button"]},function(t,n){t.exports=flarum.core.compat.Model},function(t,n,o){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}o.d(n,"a",(function(){return s}));var a=o(1);function e(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}var r=o(3),c=o.n(r),s=function(t){function n(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e(i(n=t.call.apply(t,[this].concat(a))||this),"elementPath",c.a.attribute("elementPath")),e(i(n),"originalIcon",c.a.attribute("originalIcon")),e(i(n),"modifiedIcon",c.a.attribute("modifiedIcon")),e(i(n),"isActive",c.a.attribute("isActive",Boolean)),n}return Object(a.a)(n,t),n}(c.a)},function(t,n){t.exports=flarum.core.compat.extend},function(t,n){t.exports=flarum.core.compat["components/Page"]},function(t,n){t.exports=flarum.core.compat["components/Alert"]},function(t,n){t.exports=flarum.core.compat.Component},function(t,n){t.exports=flarum.core.compat["components/Modal"]},function(t,n){t.exports=flarum.core.compat["components/AdminNav"]},function(t,n){t.exports=flarum.core.compat["components/AdminLinkButton"]},function(t,n){t.exports=flarum.core.compat["components/Switch"]},function(t,n){t.exports=flarum.core.compat["components/SettingsModal"]},function(t){t.exports=JSON.parse('[{"elementPath":"li.item-tags>a>i","originalIcon":"fas fa-th-large","modifiedIcon":"fas fa-hashtag","isActive":1},{"elementPath":"li.item-following>a>i","originalIcon":"fas fa-star","modifiedIcon":"far fa-star","isActive":1},{"elementPath":"li.item-allDiscussions>a>i","originalIcon":"far fa-comments","modifiedIcon":"far fa-comments","isActive":1},{"elementPath":"li.item-flags>div>button>i","originalIcon":"fas fa-flag","modifiedIcon":"far fa-flag","isActive":1},{"elementPath":"li.item-notifications>div>button>i","originalIcon":"fas fa-bell","modifiedIcon":"far fa-bell","isActive":1},{"elementPath":"li.item-profile>a>i","originalIcon":"fas fa-user","modifiedIcon":"far fa-id-card","isActive":1},{"elementPath":"li.item-settings>a>i","originalIcon":"fas fa-cog","modifiedIcon":"fas fa-user-cog","isActive":1},{"elementPath":"li.item-administration>a>i","originalIcon":"fas fa-wrench","modifiedIcon":"fas fa-lock","isActive":1},{"elementPath":"li.item-logOut>a>i","originalIcon":"fas fa-sign-out-alt","modifiedIcon":"fas fa-sign-out-alt","isActive":1},{"elementPath":"li.item-posts>a>i","originalIcon":"far fa-comment","modifiedIcon":"far fa-comment","isActive":1},{"elementPath":"li.item-discussions>a>i","originalIcon":"fas fa-bars","modifiedIcon":"far fa-comment-alt","isActive":1},{"elementPath":"li.item-mentions>a>i","originalIcon":"fas fa-at","modifiedIcon":"fas fa-quote-right","isActive":1}]')},function(t,n,o){"use strict";o.r(n);var i=o(4),a=o(5),e=o(10),r=o.n(e),c=o(11),s=o.n(c),u=o(1),l=o(6),f=o.n(l),p=o(2),d=o.n(p),h=o(8),g=o.n(h),I=function(t){function n(){return t.apply(this,arguments)||this}Object(u.a)(n,t);var o=n.prototype;return o.oninit=function(n){t.prototype.oninit.call(this,n),this.icon=app.store.createRecord("icons"),this.id=0,this.elementPath="",this.originalIcon="fas fa-baby",this.modifiedIcon="fas fa-child"},o.view=function(){var t=this;return m("form",[m("input.FormControl.Icons-elementPath",{type:"text",value:this.elementPath,oninput:function(n){t.elementPath=n.target.value},placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.elementPath")}),d.a.component({type:"button",className:"Button Button--warning Icons-button",icon:"fas fa-plus",loading:this.loading,onclick:this.create.bind(this)},app.translator.trans("fajuu-icons.admin.edit_icon.create")),m("input.FormControl.Icons-originalIcon",{type:"text",value:this.originalIcon,oninput:function(n){t.originalIcon=n.target.value},placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.originalIcon")}),m("input.FormControl.Icons-modifiedIcon",{type:"text",value:this.modifiedIcon,oninput:function(n){t.modifiedIcon=n.target.value},placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.modifiedIcon")}),m(".Icons-demo",[m("i.icon."+this.originalIcon+"#original"+this.id),m("i.icon.fas.fa-random#random"+this.id),m("i.icon."+this.modifiedIcon+"#modified"+this.id)])])},o.create=function(){var t=this;this.loading=!0,this.icon.save({elementPath:this.elementPath,originalIcon:this.originalIcon,modifiedIcon:this.modifiedIcon}).then((function(){t.loading=!1,t.id=0,t.elementPath=null,t.originalIcon="fas fa-baby",t.modifiedIcon="fas fa-child",m.redraw()})).catch((function(){t.loading=!1,m.redraw()}))},n}(g.a),v=o(12),y=o.n(v),b=function(t){function n(){return t.apply(this,arguments)||this}Object(u.a)(n,t);var o=n.prototype;return o.oninit=function(n){t.prototype.oninit.call(this,n),this.icon=this.attrs.icon,this.elementPath=this.icon.elementPath(),this.originalIcon=this.icon.originalIcon(),this.modifiedIcon=this.icon.modifiedIcon(),this.isActive=this.icon.isActive()},o.view=function(){var t=this;return m("form",[y.a.component({className:"Icons-isActive",state:this.isActive>0,onchange:this.update("isActive")}),m("input.FormControl.Icons-elementPath",{type:"text",value:this.elementPath,oninput:function(n){t.update("elementPath")(n.target.value)},placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.elementPath")}),m("input.FormControl.Icons-originalIcon",{type:"text",value:this.originalIcon,oninput:function(n){t.update("originalIcon")(n.target.value)},placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.originalIcon")}),m("input.FormControl.Icons-modifiedIcon",{type:"text",value:this.modifiedIcon,oninput:function(n){t.update("modifiedIcon")(n.target.value)},placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.modifiedIcon")}),d.a.component({type:"button",className:"Button Button--warning Icons-button",loading:this.loading,icon:"far fa-trash-alt",onclick:this.delete.bind(this)},app.translator.trans("fajuu-icons.admin.edit_icon.delete")),m(".Icons-demo",[m("i.icon."+this.originalIcon+"#original"+this.icon.id()),m("i.icon.fas.fa-random#random"+this.icon.id()),m("i.icon."+this.modifiedIcon+"#modified"+this.icon.id())])])},o.update=function(t){var n=this;return function(o){var i;return n[t]=o,n.icon.save((i={},i[t]=o,i)).then((function(){m.redraw()}))}},o.delete=function(){var t=this;this.loading=!0,this.icon.delete().then((function(){t.loading=!1,m.redraw()}))},n}(g.a),_=o(13),j=function(t){function n(){return t.apply(this,arguments)||this}Object(u.a)(n,t);var o=n.prototype;return o.isDismissible=function(){return!1},o.onhide=function(){window.location.reload(!0)},o.className=function(){return"IconSettingsModal Modal--small"},o.title=function(){return app.translator.trans("fajuu-icons.admin.icon_settings.title")},o.form=function(){return m(".Modal-body",[m(".Form-group",[m("label",app.translator.trans("fajuu-icons.admin.icon_settings.key_heading")),m(".helpText",app.translator.trans("fajuu-icons.admin.icon_settings.key_text",{a:m("a",{href:"https://fontawesome.com/start",target:"_blank"})})),m("input.FormControl",{required:!0,type:"text",minlength:"10",maxlength:"10",bidi:this.setting("fajuu-icons.key")})])])},n}(o.n(_).a),x=o(0),P=o.n(x),w=o(9),A=o.n(w),O=o(7),k=o.n(O),B=function(t){function n(){return t.apply(this,arguments)||this}Object(u.a)(n,t);var o=n.prototype;return o.isDismissible=function(){return!1},o.title=function(){return P.a.translator.trans("fajuu-icons.admin.icon_export.title")},o.content=function(){var t=this;return m(".Modal-body",[m(".Form-group",[m("textarea.FormControl#iconExport",{readonly:!0,rows:15,value:JSON.stringify(P.a.store.all("icons").map((function(t){return t.data.attributes})))})]),m(".Form-group",[d.a.component({className:"Button Button--primary",loading:this.loading,onclick:function(){return t.hide()}},P.a.translator.trans("fajuu-icons.admin.icon_export.close_button")),d.a.component({className:"Button",style:"float: right;",icon:"fas fa-copy",onclick:function(){t.loading=!0;var n=document.querySelector("textarea#iconExport");n.focus(),n.select();try{document.execCommand("copy"),t.loading=!1,t.alert=k.a.component({type:"success",children:P.a.translator.trans("fajuu-icons.admin.icon_export.copy_success")})}catch(n){t.loading=!1,t.alert=k.a.component({type:"error",children:P.a.translator.trans("fajuu-icons.admin.icon_export.copy_error")})}}},P.a.translator.trans("fajuu-icons.admin.icon_export.copy_button"))])])},n}(A.a),N=o(14),F=function(t){function n(){return t.apply(this,arguments)||this}Object(u.a)(n,t);var o=n.prototype;return o.import=function(t){var n=this;this.loading=!0,P.a.store.all("icons")[0]||(t.map((function(t){P.a.store.createRecord("icons").save(t).then((function(){return m.redraw()}))})),this.loading=!1,this.hide()),P.a.store.all("icons").map((function(o){o.delete().then((function(){m.redraw(),P.a.store.all("icons")[0]||(t.map((function(t){P.a.store.createRecord("icons").save(t).then((function(){return m.redraw()}))})),n.loading=!1,n.hide())}))}))},o.oninit=function(n){t.prototype.oninit.call(this,n),this.icons=null,this.alertAttrs={type:"info",content:P.a.translator.trans("fajuu-icons.admin.icon_import.about")}},o.title=function(){return P.a.translator.trans("fajuu-icons.admin.icon_import.title")},o.content=function(){var t=this;return m(".Modal-body",[m(".Form-group",[m("textarea.FormControl",{required:!0,type:"text",rows:15,oninput:function(n){t.icons=n.target.value}})]),m(".Form-group",[d.a.component({loading:this.loading,className:"Button Button--primary",children:P.a.translator.trans("fajuu-icons.admin.icon_import.import_button"),onclick:function(){!function(t){try{return"string"==typeof t&&(JSON.parse(t),!0)}catch(t){return!1}}(t.icons)?t.alert=k.a.component({type:"error",children:P.a.translator.trans("fajuu-icons.admin.icon_import.not_json")}):t.import(JSON.parse(t.icons))}}),d.a.component({className:"Button",style:"float: right;",icon:"fas fa-trash-restore",children:P.a.translator.trans("fajuu-icons.admin.icon_import.restore_button"),onclick:function(){return t.import(N)}})])])},n}(A.a),M=function(t){function n(){return t.apply(this,arguments)||this}Object(u.a)(n,t);var o=n.prototype;return o.oncreate=function(n){t.prototype.oncreate.call(this,n),window.FontAwesomeKitConfig||setTimeout((function(){return app.modal.show(j)}),500)},o.view=function(){return m(".IconsPage",[m(".IconsPage-header",[m(".container",[m("p",app.translator.trans("fajuu-icons.admin.icons.about_icons_text",{a:m("a",{href:"https://fontawesome.com",target:"_blank"})})),d.a.component({className:"Button Button--primary",icon:"fas fa-list-ul",onclick:function(){return window.open("https://fontawesome.com/icons","_blank")}},app.translator.trans("fajuu-icons.admin.icons.list_icons_button")),d.a.component({className:"Button",icon:"fas fa-upload",onclick:function(){return app.modal.show(F)}},app.translator.trans("fajuu-icons.admin.icons.import_icons_button")),d.a.component({className:"Button",icon:"fas fa-download",onclick:function(){return app.modal.show(B)}},app.translator.trans("fajuu-icons.admin.icons.export_icons_button"))])]),m(".IconsPage-main",[m(".container",[m(".IconCreate",I.component()),m(".IconList",app.store.all("icons").map((function(t){return m(".IconItem",{key:t.id(),"data-id":t.id()},b.component({icon:t}))})))])])])},n}(f.a),S=function(){app.routes.icons={path:"/icons",component:M},app.extensionSettings["fajuu-icons"]=function(){return m.route.set(app.route("icons"))},Object(a.extend)(r.a.prototype,"items",(function(t){t.add("icons",s.a.component({href:app.route("icons"),icon:"fas fa-icons",description:app.translator.trans("fajuu-icons.admin.nav.icons_text")},app.translator.trans("fajuu-icons.admin.nav.icons_button")))}))};function C(){return(C=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}).apply(this,arguments)}C({"icons/models/Icon":i.a},{"icons/components/IconCreate":I,"icons/components/IconItem":b,"icons/components/IconSettingsModal":j,"icons/components/IconsExportModal":B,"icons/components/IconsImportModal":F,"icons/components/IconsPage":M,"icons/addIconsPane":S});app.initializers.add("fajuu-icons",(function(t){t.store.models.icons=i.a,S()}))}]);
//# sourceMappingURL=admin.js.map
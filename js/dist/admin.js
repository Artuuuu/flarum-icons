module.exports=function(t){var n={};function o(i){if(n[i])return n[i].exports;var e=n[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,o),e.l=!0,e.exports}return o.m=t,o.c=n,o.d=function(t,n,i){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)o.d(i,e,function(n){return t[n]}.bind(null,e));return i},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=20)}([function(t,n){t.exports=flarum.core.compat.app},function(t,n,o){"use strict";function i(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}o.d(n,"a",(function(){return i}))},function(t,n){t.exports=flarum.core.compat["components/Button"]},function(t,n){t.exports=flarum.core.compat.Model},function(t,n,o){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var e=o(1);function a(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}var r=o(3),c=o.n(r);o.d(n,"a",(function(){return s}));var s=function(t){function n(){for(var n,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return a(i(n=t.call.apply(t,[this].concat(e))||this),"elementPath",c.a.attribute("elementPath")),a(i(n),"originalIcon",c.a.attribute("originalIcon")),a(i(n),"modifiedIcon",c.a.attribute("modifiedIcon")),a(i(n),"isActive",c.a.attribute("isActive",Boolean)),n}return Object(e.a)(n,t),n}(c.a)},function(t,n){t.exports=flarum.core.compat["components/Alert"]},function(t,n){},function(t,n){t.exports=flarum.core.compat.extend},function(t,n){t.exports=flarum.core.compat["components/Page"]},function(t,n){t.exports=flarum.core.compat.Component},function(t,n){t.exports=flarum.core.compat["components/Modal"]},,function(t,n,o){"use strict";function i(){return(i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}).apply(this,arguments)}var e=o(4),a=o(7),r=o(13),c=o.n(r),s=o(14),u=o.n(s),l=o(1),f=o(8),p=o.n(f),d=o(2),h=o.n(d),g=o(9),I=o.n(g);function v(t,n){if("original"==t)var o=n.originalIcon();if("modified"==t)o=n.modifiedIcon();var i=document.querySelector("#"+t+n.id());if(i){var e=document.createElement("i");e.setAttribute("id",t+n.id()),o&&e.setAttribute("class","icon "+o),i.replaceWith(e)}var a=document.getElementById("random"+n.id());if(a){var r=document.createElement("i");r.setAttribute("id","random"+n.id()),n.originalIcon()&&n.modifiedIcon()&&r.setAttribute("class","icon fas fa-random"),a.replaceWith(r)}}var y=function(t){function n(){return t.apply(this,arguments)||this}Object(l.a)(n,t);var o=n.prototype;return o.init=function(){t.prototype.init.call(this),this.icon=app.store.createRecord("icons"),this.id=m.prop(0),this.elementPath=m.prop(""),this.originalIcon=m.prop("fas fa-baby"),this.modifiedIcon=m.prop("fas fa-child")},o.view=function(){return m("form",[m("input.FormControl.Icons-elementPath",{type:"text",value:this.elementPath(),oninput:m.withAttr("value",this.elementPath),placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.elementPath")}),h.a.component({type:"button",className:"Button Button--warning Icons-button",children:app.translator.trans("fajuu-icons.admin.edit_icon.create"),icon:"fas fa-plus",loading:this.loading,onclick:this.create.bind(this)}),m("input.FormControl.Icons-originalIcon",{type:"text",value:this.originalIcon(),oninput:m.withAttr("value",this.originalIcon,v("original",this)),placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.originalIcon")}),m("input.FormControl.Icons-modifiedIcon",{type:"text",value:this.modifiedIcon(),oninput:m.withAttr("value",this.modifiedIcon,v("modified",this)),placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.modifiedIcon")}),m(".Icons-demo",[m("i.icon."+this.originalIcon()+"#original"+this.id()),m("i.icon.fas.fa-random#random"+this.id()),m("i.icon."+this.modifiedIcon()+"#modified"+this.id())])])},o.create=function(){var t=this;this.loading=!0,this.icon.save({elementPath:this.elementPath(),originalIcon:this.originalIcon(),modifiedIcon:this.modifiedIcon()}).then((function(){t.loading=!1,t.id(0),t.elementPath(null),t.originalIcon("fas fa-baby"),t.modifiedIcon("fas fa-child"),m.redraw()})).catch((function(){t.loading=!1,m.redraw()}))},n}(I.a),b=o(15),_=o.n(b),j=function(t){function n(){return t.apply(this,arguments)||this}Object(l.a)(n,t);var o=n.prototype;return o.init=function(){t.prototype.init.call(this),this.icon=this.props.icon,this.id=m.prop(this.icon.id()),this.elementPath=m.prop(this.icon.elementPath()),this.originalIcon=m.prop(this.icon.originalIcon()),this.modifiedIcon=m.prop(this.icon.modifiedIcon()),this.isActive=m.prop(this.icon.isActive())},o.view=function(){return m("form",[_.a.component({className:"Icons-isActive",state:this.isActive()>0,onchange:this.update("isActive")}),m("input.FormControl.Icons-elementPath",{type:"text",value:this.elementPath(),oninput:m.withAttr("value",this.update("elementPath")),placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.elementPath")}),m("input.FormControl.Icons-originalIcon",{type:"text",value:this.originalIcon(),oninput:m.withAttr("value",this.update("originalIcon"),v("original",this)),placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.originalIcon")}),m("input.FormControl.Icons-modifiedIcon",{type:"text",value:this.modifiedIcon(),oninput:m.withAttr("value",this.update("modifiedIcon"),v("modified",this)),placeholder:app.translator.trans("fajuu-icons.admin.edit_icon.modifiedIcon")}),h.a.component({type:"button",className:"Button Button--warning Icons-button",children:app.translator.trans("fajuu-icons.admin.edit_icon.delete"),loading:this.loading,icon:"far fa-trash-alt",onclick:this.delete.bind(this)}),m(".Icons-demo",[m("i.icon."+this.originalIcon()+"#original"+this.id()),m("i.icon.fas.fa-random#random"+this.id()),m("i.icon."+this.modifiedIcon()+"#modified"+this.id())])])},o.update=function(t){var n=this;return function(o){var i;return n[t](o),n.icon.save((i={},i[t]=o,i)).then((function(){m.lazyRedraw()}))}},o.delete=function(){var t=this;this.loading=!0,this.icon.delete().then((function(){t.loading=!1,m.lazyRedraw()}))},n}(I.a),x=o(16),w=function(t){function n(){return t.apply(this,arguments)||this}Object(l.a)(n,t);var o=n.prototype;return o.isDismissible=function(){return!1},o.onhide=function(){window.location.reload(!0)},o.className=function(){return"IconSettingsModal Modal--small"},o.title=function(){return app.translator.trans("fajuu-icons.admin.icon_settings.title")},o.form=function(){return m(".Modal-body",[m(".Form-group",[m("label",app.translator.trans("fajuu-icons.admin.icon_settings.key_heading")),m(".helpText",app.translator.trans("fajuu-icons.admin.icon_settings.key_text",{a:m("a",{href:"https://fontawesome.com/start",target:"_blank"})})),m("input.FormControl",{required:!0,type:"text",minlength:"10",maxlength:"10",bidi:this.setting("fajuu-icons.key")})])])},n}(o.n(x).a),P=o(0),A=o.n(P),O=o(10),k=o.n(O),B=o(5),N=o.n(B),S=function(t){function n(){return t.apply(this,arguments)||this}Object(l.a)(n,t);var o=n.prototype;return o.isDismissible=function(){return!1},o.title=function(){return A.a.translator.trans("fajuu-icons.admin.icon_export.title")},o.content=function(){var t=this;return m(".Modal-body",[m(".Form-group",[m("textarea.FormControl#iconExport",{readonly:!0,rows:15,value:JSON.stringify(A.a.store.all("icons").map((function(t){return t.data.attributes})))})]),m(".Form-group",[h.a.component({className:"Button Button--primary",children:A.a.translator.trans("fajuu-icons.admin.icon_export.close_button"),loading:this.loading,onclick:function(){return t.hide()}}),h.a.component({className:"Button",style:"float: right;",children:A.a.translator.trans("fajuu-icons.admin.icon_export.copy_button"),icon:"fas fa-copy",onclick:function(){t.loading=!0;var n=document.querySelector("textarea#iconExport");n.focus(),n.select();try{document.execCommand("copy"),t.loading=!1,t.alert=N.a.component({type:"success",children:A.a.translator.trans("fajuu-icons.admin.icon_export.copy_success")})}catch(n){t.loading=!1,t.alert=N.a.component({type:"error",children:A.a.translator.trans("fajuu-icons.admin.icon_export.copy_error")})}}})])])},n}(k.a),F=o(17),M=function(t){Object(l.a)(o,t);var n=o.prototype;function o(){var n;return(n=t.call(this)||this).icons=m.prop(null),n.alert=N.a.component({type:"info",children:A.a.translator.trans("fajuu-icons.admin.icon_import.about")}),n}return n.import=function(t){var n=this;this.loading=!0,A.a.store.all("icons")[0]||(t.map((function(t){A.a.store.createRecord("icons").save(t).then((function(){return m.redraw()}))})),this.loading=!1,this.hide()),A.a.store.all("icons").map((function(o){o.delete().then((function(){m.redraw(),A.a.store.all("icons")[0]||(t.map((function(t){A.a.store.createRecord("icons").save(t).then((function(){return m.redraw()}))})),n.loading=!1,n.hide())}))}))},n.title=function(){return A.a.translator.trans("fajuu-icons.admin.icon_import.title")},n.content=function(){var t=this;return m(".Modal-body",[m(".Form-group",[m("textarea.FormControl",{required:!0,type:"text",rows:15,oninput:m.withAttr("value",this.icons)})]),m(".Form-group",[h.a.component({loading:this.loading,className:"Button Button--primary",children:A.a.translator.trans("fajuu-icons.admin.icon_import.import_button"),onclick:function(){!function(t){try{return"string"==typeof t&&(JSON.parse(t),!0)}catch(t){return!1}}(t.icons())?t.alert=N.a.component({type:"error",children:A.a.translator.trans("fajuu-icons.admin.icon_import.not_json")}):t.import(JSON.parse(t.icons()))}}),h.a.component({className:"Button",style:"float: right;",icon:"fas fa-trash-restore",children:A.a.translator.trans("fajuu-icons.admin.icon_import.restore_button"),onclick:function(){return t.import(F)}})])])},o}(k.a),C=function(t){function n(){return t.apply(this,arguments)||this}Object(l.a)(n,t);var o=n.prototype;return o.config=function(){window.FontAwesomeKitConfig||setTimeout((function(){return app.modal.show(new w)}),500)},o.view=function(){return m(".IconsPage",[m(".IconsPage-header",[m(".container",[m("p",app.translator.trans("fajuu-icons.admin.icons.about_icons_text",{a:m("a",{href:"https://fontawesome.com",target:"_blank"})})),h.a.component({className:"Button Button--primary",icon:"fas fa-list-ul",children:app.translator.trans("fajuu-icons.admin.icons.list_icons_button"),onclick:function(){return window.open("https://fontawesome.com/icons","_blank")}}),h.a.component({className:"Button",icon:"fas fa-upload",children:app.translator.trans("fajuu-icons.admin.icons.import_icons_button"),onclick:function(){return app.modal.show(new M)}}),h.a.component({className:"Button",icon:"fas fa-download",children:app.translator.trans("fajuu-icons.admin.icons.export_icons_button"),onclick:function(){return app.modal.show(new S)}})])]),m(".IconsPage-main",[m(".container",[m(".IconCreate",y.component()),m(".IconList",app.store.all("icons").map((function(t){return m(".IconItem",{key:t.id(),"data-id":t.id()},j.component({icon:t}))})))])])])},n}(p.a),E=function(){app.routes.icons={path:"/icons",component:C.component()},app.extensionSettings["fajuu-icons"]=function(){return m.route(app.route("icons"))},Object(a.extend)(c.a.prototype,"items",(function(t){t.add("icons",u.a.component({href:app.route("icons"),icon:"fas fa-icons",children:app.translator.trans("fajuu-icons.admin.nav.icons_button"),description:app.translator.trans("fajuu-icons.admin.nav.icons_text")}))}))},R=i({"icons/models/Icon":e.a},{"icons/components/IconCreate":y,"icons/components/IconItem":j,"icons/components/IconSettingsModal":w,"icons/components/IconsExportModal":S,"icons/components/IconsImportModal":M,"icons/components/IconsPage":C,"icons/helpers/IconDemo":v,"icons/addIconsPane":E}),q=o(18);app.initializers.add("fajuu-icons",(function(t){t.store.models.icons=e.a,E()})),i(q.compat,R)},function(t,n){t.exports=flarum.core.compat["components/AdminNav"]},function(t,n){t.exports=flarum.core.compat["components/AdminLinkButton"]},function(t,n){t.exports=flarum.core.compat["components/Switch"]},function(t,n){t.exports=flarum.core.compat["components/SettingsModal"]},function(t){t.exports=JSON.parse('[{"elementPath":"li.item-tags>a>i","originalIcon":"fas fa-th-large","modifiedIcon":"fas fa-hashtag","isActive":1},{"elementPath":"li.item-following>a>i","originalIcon":"fas fa-star","modifiedIcon":"far fa-star","isActive":1},{"elementPath":"li.item-allDiscussions>a>i","originalIcon":"far fa-comments","modifiedIcon":"far fa-comments","isActive":1},{"elementPath":"li.item-flags>div>button>i","originalIcon":"fas fa-flag","modifiedIcon":"far fa-flag","isActive":1},{"elementPath":"li.item-notifications>div>button>i","originalIcon":"fas fa-bell","modifiedIcon":"far fa-bell","isActive":1},{"elementPath":"li.item-profile>a>i","originalIcon":"fas fa-user","modifiedIcon":"far fa-id-card","isActive":1},{"elementPath":"li.item-settings>a>i","originalIcon":"fas fa-cog","modifiedIcon":"fas fa-user-cog","isActive":1},{"elementPath":"li.item-administration>a>i","originalIcon":"fas fa-wrench","modifiedIcon":"fas fa-lock","isActive":1},{"elementPath":"li.item-logOut>a>i","originalIcon":"fas fa-sign-out-alt","modifiedIcon":"fas fa-sign-out-alt","isActive":1},{"elementPath":"li.item-posts>a>i","originalIcon":"far fa-comment","modifiedIcon":"far fa-comment","isActive":1},{"elementPath":"li.item-discussions>a>i","originalIcon":"fas fa-bars","modifiedIcon":"far fa-comment-alt","isActive":1},{"elementPath":"li.item-mentions>a>i","originalIcon":"fas fa-at","modifiedIcon":"fas fa-quote-right","isActive":1}]')},function(t,n){t.exports=flarum.core},,function(t,n,o){"use strict";o.r(n);var i=o(6);for(var e in i)"default"!==e&&function(t){o.d(n,t,(function(){return i[t]}))}(e);o(12)}]);
//# sourceMappingURL=admin.js.map